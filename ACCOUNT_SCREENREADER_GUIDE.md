# Account Page Screen Reader Experience Guide

## Overview
This document describes what screen reader users will hear when navigating the Account page, demonstrating WCAG 2.1 AA compliance through comprehensive ARIA implementation.

---

## Page Load

**Screen reader announces:**
```
"Main, landmark"
"My Account, heading level 1"
```

---

## Navigation Through Page Sections

### Using Landmarks (Quick Navigation)
Screen reader users can jump between sections using landmark navigation (typically by pressing `D` for landmarks):

1. **"Main, landmark"** - The account page container
2. **"Account Information, region"** - User email section
3. **"Meal Plan Status, region"** - Planner storage status
4. **"Voted Meals Status, region"** - Meal preferences section
5. **"Saved Information Status, region"** - Personal data section
6. **"Privacy Settings, region"** - Consent toggles

---

## Section-by-Section Experience

### 1. Account Information Section

**Navigating to the section:**
```
"Account Information, region"
"Account Information, heading level 2"
"Email: [user's email address]"
```

**What users hear:**
- The section announces as a distinct region
- Email information is clearly read aloud

---

### 2. Meal Plan Status Section

**Navigating to the section:**
```
"Meal Plan Status, region"
"Meal Plan Status, heading level 2"
```

**When a meal plan exists:**
```
"Active meal plan in storage"
"Delete Meal Plan, button"
"Delete your meal plan. This action requires confirmation and cannot be undone."
```

**When no meal plan exists:**
```
"No meal plan found"
```

**Key features:**
- Status dot is hidden from screen readers (decorative only)
- Status text provides clear information
- Delete button includes warning about confirmation and permanence

---

### 3. Voted Meals Status Section

**Navigating to the section:**
```
"Voted Meals Status, region"
"Voted Meals Status, heading level 2"
```

**When meal votes exist:**
```
"Liked and/or disliked meals in storage"
"Delete Liked and/or Disliked Meals, button"
"Delete your liked and disliked meals. This action requires confirmation and cannot be undone."
```

**When no votes exist:**
```
"No liked or disliked meals found"
```

**Key features:**
- Clear status announcement
- Delete button warns about irreversible action

---

### 4. Saved Information Status Section

**Navigating to the section:**
```
"Saved Information Status, region"
"Saved Information Status, heading level 2"
```

**When personal data is stored:**
```
"Personal data in storage"
"Delete Personal Data, button"
"Delete your personal data. This action requires confirmation and cannot be undone."
```

**When no data is stored:**
```
"No personal data in storage"
```

**Key features:**
- Status clearly indicates data presence
- Delete button emphasizes data sensitivity

---

### 5. Privacy Settings Section

**Navigating to the section:**
```
"Privacy Settings, region"
"Privacy Settings, heading level 2"
```

**Reading the explanation:**
```
"Allow PlatePath to store your meal plans and preferences for a personalised experience. 
Sensitive data relates all of your inputted personal data, while general data encompasses 
everything generated by us, such as your planner and meal preferences."
```

**Interacting with toggles:**

**General Storage Consent:**
```
"General Storage Consent"
"Toggle general storage consent for meal plans and preferences, switch"
"Off" (or "On" if enabled)
```

**When toggling ON:**
```
[Toggle activates]
"On"
[After brief pause]
"Consent for general data storage: Granted"
```

**When toggling OFF:**
```
[Toggle deactivates]
"Off"
[After brief pause]
"Consent for general data storage: Revoked"
```

**Sensitive Data Storage Consent:**
```
"Sensitive Data Storage Consent"
"Toggle sensitive data storage consent for personal information, switch"
"Off" (or "On" if enabled)
```

**When toggling ON:**
```
[Toggle activates]
"On"
[After brief pause]
"Consent for sensitive data storage: Granted"
```

**When toggling OFF:**
```
[Toggle deactivates]
"Off"
[After brief pause]
"Consent for sensitive data storage: Revoked"
```

**Key features:**
- Toggles use `role="switch"` for proper switch semantics
- Each toggle has a descriptive `aria-label` explaining its purpose
- `aria-describedby` connects toggles to the explanation paragraph
- Consent status updates announce via `aria-live="polite"` when changed
- Toggle slider is hidden from screen readers (decorative only)

---

## Delete Button Interactions

### When clicking any delete button:

**Example: Delete Meal Plan**
```
"Delete your meal plan. This action requires confirmation and cannot be undone., button"
[User presses Enter/Space]
[Browser confirmation dialog appears]
"Are you sure you want to delete your meal plan? This action cannot be undone."
[User must confirm or cancel]
```

**Key features:**
- All delete buttons provide detailed context about:
  - What will be deleted
  - That confirmation is required
  - That the action is permanent
- Browser's native confirmation dialog provides additional safeguard

---

## Keyboard Navigation Flow

### Tab Order:
1. Header navigation (inherited from Header component)
2. "Account Information" section (no interactive elements)
3. "Delete Meal Plan" button (if planner exists)
4. "Delete Liked and/or Disliked Meals" button (if votes exist)
5. "Delete Personal Data" button (if data exists)
6. General Storage Consent toggle
7. Sensitive Data Storage Consent toggle
8. Footer links (inherited from Footer component)

### Landmark Navigation:
- Press `D` (or equivalent) to jump between region landmarks
- Press `H` to jump between headings (H1 and H2 levels)
- Press `B` to jump between buttons

---

## ARIA Attributes Used

### Semantic Structure:
- `<main role="main">` - Identifies main content area
- `<section>` with `aria-labelledby` - Creates navigable regions
- `<h1>` with `id` - Page title for screen reader orientation
- `<h2>` with `id` - Section headings linked to their containers

### Interactive Elements:
- `aria-label` on delete buttons - Provides full context for actions
- `role="switch"` on checkboxes - Proper semantic role for toggles
- `aria-checked` on switches - Announces current state
- `aria-describedby` on toggle group - Connects to explanation text
- `aria-live="polite"` on status messages - Announces consent changes

### Decorative Elements:
- `aria-hidden="true"` on status dots - Hides visual-only indicators
- `aria-hidden="true"` on toggle sliders - Hides decorative UI

---

## Accessibility Best Practices Demonstrated

1. **Semantic HTML**: Using `<main>`, `<section>`, `<h1>`, `<h2>` for proper structure
2. **Landmark regions**: Each section is a navigable region with descriptive label
3. **Descriptive labels**: All interactive elements have clear purpose
4. **Live regions**: Dynamic content announces without interrupting flow
5. **Hidden decorations**: Visual-only elements don't clutter audio experience
6. **Switch semantics**: Toggles use proper `role="switch"` instead of checkbox
7. **Warning context**: Destructive actions include clear warnings
8. **Keyboard accessible**: All functionality available via keyboard
9. **Logical flow**: Content announces in meaningful order
10. **State management**: Current state of toggles always announced

---

## Testing Recommendations

### Test with:
- **VoiceOver** (Mac): Press `Cmd + F5` to enable
- **NVDA** (Windows): Free screen reader
- **JAWS** (Windows): Professional screen reader

### Test scenarios:
1. Navigate page using only keyboard
2. Use landmark navigation to jump between sections
3. Toggle consent switches and verify status announcements
4. Activate delete buttons and verify warnings
5. Tab through entire page and verify logical order
6. Use heading navigation to jump between sections

---

## Notes for Developers

- **Visual appearance**: No visual changes made by ARIA attributes
- **Status dots**: Purely decorative, hidden from screen readers
- **Toggle sliders**: Visual decoration, actual input element is accessible
- **Consent labels**: Fixed swap bug where labels were reversed
- **Delete warnings**: Consistent pattern across all delete actions
- **Live regions**: Only announce when content actually changes
- **Switch role**: Provides better UX than generic checkbox announcement

---

This implementation ensures that screen reader users have a complete, informative, and navigable experience on the Account page, meeting WCAG 2.1 AA accessibility standards.
